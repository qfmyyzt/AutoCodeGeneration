
import org.jetbrains.annotations.NotNull;
import org.springframework.stereotype.Component;
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

/**
 * WebMvc 配置类。
 * 这个类实现了 Spring 的 WebMvcConfigurer 接口，用于自定义 Spring Web MVC 的配置。
 */
@SuppressWarnings("all")
@Component
public class WebMvcConfig implements WebMvcConfigurer {
    /**
     * 配置拦截器。
     * @param registry 拦截器注册表。
     */
    @Override
    public void addInterceptors(@NotNull InterceptorRegistry registry) {
        // 创建一个认证拦截器实例。
        AuthenticationInterceptor authenticationInterceptor = new AuthenticationInterceptor();
        // 将认证拦截器添加到拦截器注册表中，并指定要拦截的路径模式为/admin/**（表示所有以/admin/开头的路径），
        // 同时排除/admin/login/**（表示/admin/login/开头的路径不被拦截）。 ->自己可以改
        registry.addInterceptor(authenticationInterceptor).addPathPatterns("/admin/**").excludePathPatterns("/admin/login/**");
    }
}